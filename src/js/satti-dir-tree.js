!function(a,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(a=a||self).dirTree=e(a.jQuery)}(this,function(a){var e;(e=a).fn.dirTree=function(a){let n={name:"satti-dir-tree",forNameClassName:"data-name",bgClasssName:"satti-bg",collapseClassName:"bg-collapse",expandClassName:"bg-expand",noChildClassName:"bg-no-child",childrensClassName:"childrens",actionParentClassName:"action-parent",addChildClassName:"add-child",editClassName:"st-edit",deleteClassName:"st-delete",expandCollapseAnimationDuration:a.expandCollapseAnimationDuration||100};e("head").append(`\n            <style>\n            .${n.name} li{\n                list-style: none;\n                padding: 5px;\n                padding-right: 0;\n            }\n            \n            .${n.name} li.${n.forNameClassName} {\n                position: relative;\n            }\n            \n            .${n.name} li.${n.forNameClassName} span {\n                padding-left: 25px;\n            }\n            \n            .${n.name} > ul {\n                padding: 0;\n            }\n            \n            .${n.name} .${n.bgClasssName} {\n                width: 13px;\n                height: 13px;\n                position: absolute;\n                left: 14px;\n                top: 14px;\n            }\n            \n            .${n.name} .${n.bgClasssName}.${n.expandClassName} {\n                background: url(/assets/icons/plus-square-regular.svg) no-repeat;\n            }\n            \n            .${n.name} .${n.bgClasssName}.${n.noChildClassName} {\n                background: url(/assets/icons/square-regular.svg) no-repeat;\n            }\n            \n            .${n.name} .${n.bgClasssName}.${n.collapseClassName} {\n                background: url(/assets/icons/minus-square-regular.svg) no-repeat;\n            }\n            \n            .${n.name} .${n.actionParentClassName} {\n                display: flex;\n                border-radius: 5px;\n                padding: 5px;\n            }\n            \n            .${n.name} .${n.actionParentClassName}:hover {\n                cursor: pointer;\n                background: #e3edef;\n            }\n            \n            .${n.name} .${n.actionParentClassName} > div{\n                display: none;\n                width: 13px;\n                height: 13px;\n                margin-top: 3px;\n                margin-left: 10px;\n            }\n            .${n.name} .${n.actionParentClassName}:hover > div {\n                display: block;\n            }\n            \n            .${n.name} .${n.addChildClassName} {\n                background: url(/assets/icons/plus-solid.svg) no-repeat;\n            }\n            \n            .${n.name} .${n.editClassName} {\n                background: url(/assets/icons/edit-regular.svg) no-repeat;\n            }\n            \n            .${n.name} .${n.deleteClassName} {\n                background: url(/assets/icons/trash-alt-regular.svg) no-repeat;\n            }\n            </style>\n            `);let s=l=>{let d=e("<ul><ul>");return l.forEach(l=>{l.children=l.children||[];let t=e("<li></li>"),i=e(`<span>${l.name}</span>`),r=e("<div></div>"),o={addChild:e(`<div class="${n.addChildClassName}"></div>`),edit:e(`<div class="${n.editClassName}"></div>`),delete:e(`<div class="${n.deleteClassName}"></div>`)},m=e("<div></div>");if(r.addClass(n.bgClasssName),r.addClass(l.children.length?n.collapseClassName:n.noChildClassName),t.addClass(n.forNameClassName),t.attr("data-id",n.name+l._id),t.attr("data-parent",n.name+l.parentId),t.append(r),m.addClass(n.actionParentClassName),m.append(i),("boolean"!=typeof a.action||a.action)&&(m.append(o.addChild),m.append(o.edit),"boolean"==typeof a.multipleDelete&&!a.multipleDelete&&l.children.length||m.append(o.delete)),t.append(m),l.children.length){let a=e("<div></div>");a.addClass(`${n.childrensClassName}`),a.append(s(l.children)),t.append(a)}d.append(t)}),d};this.append(s(a.data||[])),this.addClass(n.name),this.find(`.${n.bgClasssName}:not(.${n.noChildClassName})`).off("click").click(function(){try{let a=e(this),s=a.parent(),l=s.find(`.${n.childrensClassName}`);s.data("id").split(n.name)[1],s.data("parent").split(n.name)[1],a.hasClass(n.collapseClassName)?(l.fadeOut(n.expandCollapseAnimationDuration),a.removeClass(n.collapseClassName),a.addClass(n.expandClassName)):(l.fadeIn(n.expandCollapseAnimationDuration),a.removeClass(n.expandClassName),a.addClass(n.collapseClassName))}catch(a){console.error("some error")}}),[{element:this.find(`.${n.addChildClassName}`),fnName:"addChild"},{element:this.find(`.${n.editClassName}`),fnName:"edit"},{element:this.find(`.${n.deleteClassName}`),fnName:"delete"}].forEach(s=>{s.element.off("click").click(function(){try{let l=e(this).parent().parent(),d=l.data("id").split(n.name)[1],t=l.data("parent").split(n.name)[1];"function"==typeof a[s.fnName]&&a[s.fnName](d,t)}catch(a){console.error("some error")}})})}});